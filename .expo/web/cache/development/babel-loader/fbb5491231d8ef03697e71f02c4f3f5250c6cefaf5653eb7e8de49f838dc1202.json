{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/sammerinio/Documents/flight-tracking-app/node_modules/react-native-keyboard-aware-scroll-view/lib/KeyboardAwareHOC.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport UIManager from \"react-native-web/dist/exports/UIManager\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { isIphoneX } from 'react-native-iphone-x-helper';\nvar _KAM_DEFAULT_TAB_BAR_HEIGHT = isIphoneX() ? 83 : 49;\nvar _KAM_KEYBOARD_OPENING_TIME = 250;\nvar _KAM_EXTRA_HEIGHT = 75;\nvar supportedKeyboardEvents = ['keyboardWillShow', 'keyboardDidShow', 'keyboardWillHide', 'keyboardDidHide', 'keyboardWillChangeFrame', 'keyboardDidChangeFrame'];\nvar keyboardEventToCallbackName = function keyboardEventToCallbackName(eventName) {\n  return 'on' + eventName[0].toUpperCase() + eventName.substring(1);\n};\nvar keyboardEventPropTypes = supportedKeyboardEvents.reduce(function (acc, eventName) {\n  return _objectSpread({}, acc, _defineProperty({}, keyboardEventToCallbackName(eventName), PropTypes.func));\n}, {});\nvar keyboardAwareHOCTypeEvents = supportedKeyboardEvents.reduce(function (acc, eventName) {\n  return _objectSpread({}, acc, _defineProperty({}, keyboardEventToCallbackName(eventName), Function));\n}, {});\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent && (WrappedComponent.displayName || WrappedComponent.name) || 'Component';\n}\nvar ScrollIntoViewDefaultOptions = {\n  enableOnAndroid: false,\n  contentContainerStyle: undefined,\n  enableAutomaticScroll: true,\n  extraHeight: _KAM_EXTRA_HEIGHT,\n  extraScrollHeight: 0,\n  enableResetScrollToCoords: true,\n  keyboardOpeningTime: _KAM_KEYBOARD_OPENING_TIME,\n  viewIsInsideTabBar: false,\n  refPropName: 'ref',\n  extractNativeRef: function extractNativeRef(ref) {\n    if (ref.getNode) {\n      return ref.getNode();\n    } else {\n      return ref;\n    }\n  }\n};\nfunction KeyboardAwareHOC(ScrollableComponent) {\n  var _class;\n  var userOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var hocOptions = _objectSpread({}, ScrollIntoViewDefaultOptions, {}, userOptions);\n  return _class = function (_React$Component) {\n    _inherits(_class, _React$Component);\n    function _class(props) {\n      var _this;\n      _classCallCheck(this, _class);\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(_class).call(this, props));\n      _this.getScrollResponder = function () {\n        return _this._rnkasv_keyboardView && _this._rnkasv_keyboardView.getScrollResponder && _this._rnkasv_keyboardView.getScrollResponder();\n      };\n      _this.scrollToPosition = function (x, y) {\n        var animated = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var responder = _this.getScrollResponder();\n        responder && responder.scrollResponderScrollTo({\n          x: x,\n          y: y,\n          animated: animated\n        });\n      };\n      _this.scrollToEnd = function () {\n        var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        var responder = _this.getScrollResponder();\n        responder && responder.scrollResponderScrollToEnd({\n          animated: animated\n        });\n      };\n      _this.scrollForExtraHeightOnAndroid = function (extraHeight) {\n        _this.scrollToPosition(0, _this.position.y + extraHeight, true);\n      };\n      _this.scrollToFocusedInput = function (reactNode, extraHeight, keyboardOpeningTime) {\n        if (extraHeight === undefined) {\n          extraHeight = _this.props.extraHeight || 0;\n        }\n        if (keyboardOpeningTime === undefined) {\n          keyboardOpeningTime = _this.props.keyboardOpeningTime || 0;\n        }\n        setTimeout(function () {\n          if (!_this.mountedComponent) {\n            return;\n          }\n          var responder = _this.getScrollResponder();\n          responder && responder.scrollResponderScrollNativeHandleToKeyboard(reactNode, extraHeight, true);\n        }, keyboardOpeningTime);\n      };\n      _this.scrollIntoView = function _callee(element) {\n        var options,\n          _await$Promise$all,\n          _await$Promise$all2,\n          parentLayout,\n          childLayout,\n          getScrollPosition,\n          _getScrollPosition,\n          x,\n          y,\n          animated,\n          _args = arguments;\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n                if (!(!_this._rnkasv_keyboardView || !element)) {\n                  _context.next = 3;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 3:\n                _context.next = 5;\n                return _regeneratorRuntime.awrap(Promise.all([_this._measureElement(_this._rnkasv_keyboardView), _this._measureElement(element)]));\n              case 5:\n                _await$Promise$all = _context.sent;\n                _await$Promise$all2 = _slicedToArray(_await$Promise$all, 2);\n                parentLayout = _await$Promise$all2[0];\n                childLayout = _await$Promise$all2[1];\n                getScrollPosition = options.getScrollPosition || _this._defaultGetScrollPosition;\n                _getScrollPosition = getScrollPosition(parentLayout, childLayout, _this.position), x = _getScrollPosition.x, y = _getScrollPosition.y, animated = _getScrollPosition.animated;\n                _this.scrollToPosition(x, y, animated);\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        });\n      };\n      _this._defaultGetScrollPosition = function (parentLayout, childLayout, contentOffset) {\n        return {\n          x: 0,\n          y: Math.max(0, childLayout.y - parentLayout.y + contentOffset.y),\n          animated: true\n        };\n      };\n      _this._measureElement = function (element) {\n        var node = findNodeHandle(element);\n        return new Promise(function (resolve) {\n          UIManager.measureInWindow(node, function (x, y, width, height) {\n            resolve({\n              x: x,\n              y: y,\n              width: width,\n              height: height\n            });\n          });\n        });\n      };\n      _this._updateKeyboardSpace = function (frames) {\n        if (_this.props.enableAutomaticScroll) {\n          var keyboardSpace = frames.endCoordinates.height + _this.props.extraScrollHeight;\n          if (_this.props.viewIsInsideTabBar) {\n            keyboardSpace -= _KAM_DEFAULT_TAB_BAR_HEIGHT;\n          }\n          _this.setState({\n            keyboardSpace: keyboardSpace\n          });\n          var currentlyFocusedField = TextInput.State.currentlyFocusedField();\n          var responder = _this.getScrollResponder();\n          if (!currentlyFocusedField || !responder) {\n            return;\n          }\n          UIManager.viewIsDescendantOf(currentlyFocusedField, responder.getInnerViewNode(), function (isAncestor) {\n            if (isAncestor) {\n              UIManager.measureInWindow(currentlyFocusedField, function (x, y, width, height) {\n                var textInputBottomPosition = y + height;\n                var keyboardPosition = frames.endCoordinates.screenY;\n                var totalExtraHeight = _this.props.extraScrollHeight + _this.props.extraHeight;\n                if (Platform.OS === 'ios') {\n                  if (textInputBottomPosition > keyboardPosition - totalExtraHeight) {\n                    _this._scrollToFocusedInputWithNodeHandle(currentlyFocusedField);\n                  }\n                } else {\n                  if (textInputBottomPosition > keyboardPosition) {\n                    keyboardSpace = keyboardSpace - (textInputBottomPosition - keyboardPosition);\n                    _this.setState({\n                      keyboardSpace: keyboardSpace\n                    });\n                    _this.scrollForExtraHeightOnAndroid(totalExtraHeight);\n                  } else if (textInputBottomPosition > keyboardPosition - totalExtraHeight) {\n                    _this.scrollForExtraHeightOnAndroid(totalExtraHeight - (keyboardPosition - textInputBottomPosition));\n                  }\n                }\n              });\n            }\n          });\n        }\n        if (!_this.props.resetScrollToCoords) {\n          if (!_this.defaultResetScrollToCoords) {\n            _this.defaultResetScrollToCoords = _this.position;\n          }\n        }\n      };\n      _this._resetKeyboardSpace = function () {\n        var keyboardSpace = _this.props.viewIsInsideTabBar ? _KAM_DEFAULT_TAB_BAR_HEIGHT : 0;\n        _this.setState({\n          keyboardSpace: keyboardSpace\n        });\n        if (_this.props.enableResetScrollToCoords === false) {\n          _this.defaultResetScrollToCoords = null;\n          return;\n        } else if (_this.props.resetScrollToCoords) {\n          _this.scrollToPosition(_this.props.resetScrollToCoords.x, _this.props.resetScrollToCoords.y, true);\n        } else {\n          if (_this.defaultResetScrollToCoords) {\n            _this.scrollToPosition(_this.defaultResetScrollToCoords.x, _this.defaultResetScrollToCoords.y, true);\n            _this.defaultResetScrollToCoords = null;\n          } else {\n            _this.scrollToPosition(0, 0, true);\n          }\n        }\n      };\n      _this._scrollToFocusedInputWithNodeHandle = function (nodeID, extraHeight, keyboardOpeningTime) {\n        if (extraHeight === undefined) {\n          extraHeight = _this.props.extraHeight;\n        }\n        var reactNode = findNodeHandle(nodeID);\n        _this.scrollToFocusedInput(reactNode, extraHeight + _this.props.extraScrollHeight, keyboardOpeningTime !== undefined ? keyboardOpeningTime : _this.props.keyboardOpeningTime || 0);\n      };\n      _this._handleOnScroll = function (e) {\n        _this.position = e.nativeEvent.contentOffset;\n      };\n      _this._handleRef = function (ref) {\n        _this._rnkasv_keyboardView = ref ? hocOptions.extractNativeRef(ref) : ref;\n        if (_this.props.innerRef) {\n          _this.props.innerRef(_this._rnkasv_keyboardView);\n        }\n      };\n      _this.update = function () {\n        var currentlyFocusedField = TextInput.State.currentlyFocusedField();\n        var responder = _this.getScrollResponder();\n        if (!currentlyFocusedField || !responder) {\n          return;\n        }\n        _this._scrollToFocusedInputWithNodeHandle(currentlyFocusedField);\n      };\n      _this.keyboardWillShowEvent = undefined;\n      _this.keyboardWillHideEvent = undefined;\n      _this.callbacks = {};\n      _this.position = {\n        x: 0,\n        y: 0\n      };\n      _this.defaultResetScrollToCoords = null;\n      var _keyboardSpace = props.viewIsInsideTabBar ? _KAM_DEFAULT_TAB_BAR_HEIGHT : 0;\n      _this.state = {\n        keyboardSpace: _keyboardSpace\n      };\n      return _this;\n    }\n    _createClass(_class, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n        this.mountedComponent = true;\n        if (Platform.OS === 'ios') {\n          this.keyboardWillShowEvent = Keyboard.addListener('keyboardWillShow', this._updateKeyboardSpace);\n          this.keyboardWillHideEvent = Keyboard.addListener('keyboardWillHide', this._resetKeyboardSpace);\n        } else if (Platform.OS === 'android' && this.props.enableOnAndroid) {\n          this.keyboardWillShowEvent = Keyboard.addListener('keyboardDidShow', this._updateKeyboardSpace);\n          this.keyboardWillHideEvent = Keyboard.addListener('keyboardDidHide', this._resetKeyboardSpace);\n        }\n        supportedKeyboardEvents.forEach(function (eventName) {\n          var callbackName = keyboardEventToCallbackName(eventName);\n          if (_this2.props[callbackName]) {\n            _this2.callbacks[eventName] = Keyboard.addListener(eventName, _this2.props[callbackName]);\n          }\n        });\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.props.viewIsInsideTabBar !== prevProps.viewIsInsideTabBar) {\n          var keyboardSpace = this.props.viewIsInsideTabBar ? _KAM_DEFAULT_TAB_BAR_HEIGHT : 0;\n          if (this.state.keyboardSpace !== keyboardSpace) {\n            this.setState({\n              keyboardSpace: keyboardSpace\n            });\n          }\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mountedComponent = false;\n        this.keyboardWillShowEvent && this.keyboardWillShowEvent.remove();\n        this.keyboardWillHideEvent && this.keyboardWillHideEvent.remove();\n        Object.values(this.callbacks).forEach(function (callback) {\n          return callback.remove();\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n          enableOnAndroid = _this$props.enableOnAndroid,\n          contentContainerStyle = _this$props.contentContainerStyle,\n          onScroll = _this$props.onScroll;\n        var newContentContainerStyle;\n        if (Platform.OS === 'android' && enableOnAndroid) {\n          newContentContainerStyle = [].concat(contentContainerStyle).concat({\n            paddingBottom: ((contentContainerStyle || {}).paddingBottom || 0) + this.state.keyboardSpace\n          });\n        }\n        var refProps = _defineProperty({}, hocOptions.refPropName, this._handleRef);\n        return React.createElement(ScrollableComponent, _extends({}, refProps, {\n          keyboardDismissMode: \"interactive\",\n          contentInset: {\n            bottom: this.state.keyboardSpace\n          },\n          automaticallyAdjustContentInsets: false,\n          showsVerticalScrollIndicator: true,\n          scrollEventThrottle: 1\n        }, this.props, {\n          contentContainerStyle: newContentContainerStyle || contentContainerStyle,\n          keyboardSpace: this.state.keyboardSpace,\n          getScrollResponder: this.getScrollResponder,\n          scrollToPosition: this.scrollToPosition,\n          scrollToEnd: this.scrollToEnd,\n          scrollForExtraHeightOnAndroid: this.scrollForExtraHeightOnAndroid,\n          scrollToFocusedInput: this.scrollToFocusedInput,\n          scrollIntoView: this.scrollIntoView,\n          resetKeyboardSpace: this._resetKeyboardSpace,\n          handleOnScroll: this._handleOnScroll,\n          update: this.update,\n          onScroll: Animated.forkEvent(onScroll, this._handleOnScroll),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 517\n          }\n        }));\n      }\n    }]);\n    return _class;\n  }(React.Component), _class.displayName = \"KeyboardAware\" + getDisplayName(ScrollableComponent), _class.propTypes = _objectSpread({\n    viewIsInsideTabBar: PropTypes.bool,\n    resetScrollToCoords: PropTypes.shape({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired\n    }),\n    enableResetScrollToCoords: PropTypes.bool,\n    enableAutomaticScroll: PropTypes.bool,\n    extraHeight: PropTypes.number,\n    extraScrollHeight: PropTypes.number,\n    keyboardOpeningTime: PropTypes.number,\n    onScroll: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    update: PropTypes.func,\n    contentContainerStyle: PropTypes.any,\n    enableOnAndroid: PropTypes.bool,\n    innerRef: PropTypes.func\n  }, keyboardEventPropTypes), _class.defaultProps = {\n    enableAutomaticScroll: hocOptions.enableAutomaticScroll,\n    extraHeight: hocOptions.extraHeight,\n    extraScrollHeight: hocOptions.extraScrollHeight,\n    enableResetScrollToCoords: hocOptions.enableResetScrollToCoords,\n    keyboardOpeningTime: hocOptions.keyboardOpeningTime,\n    viewIsInsideTabBar: hocOptions.viewIsInsideTabBar,\n    enableOnAndroid: hocOptions.enableOnAndroid\n  }, _class;\n}\nvar listenToKeyboardEvents = function listenToKeyboardEvents(configOrComp) {\n  if (typeof configOrComp === 'object') {\n    return function (Comp) {\n      return KeyboardAwareHOC(Comp, configOrComp);\n    };\n  } else {\n    return KeyboardAwareHOC(configOrComp);\n  }\n};\nexport default listenToKeyboardEvents;","map":{"version":3,"names":["React","PropTypes","Keyboard","Platform","UIManager","TextInput","findNodeHandle","Animated","isIphoneX","_KAM_DEFAULT_TAB_BAR_HEIGHT","_KAM_KEYBOARD_OPENING_TIME","_KAM_EXTRA_HEIGHT","supportedKeyboardEvents","keyboardEventToCallbackName","eventName","toUpperCase","substring","keyboardEventPropTypes","reduce","acc","_objectSpread","_defineProperty","func","keyboardAwareHOCTypeEvents","Function","getDisplayName","WrappedComponent","displayName","name","ScrollIntoViewDefaultOptions","enableOnAndroid","contentContainerStyle","undefined","enableAutomaticScroll","extraHeight","extraScrollHeight","enableResetScrollToCoords","keyboardOpeningTime","viewIsInsideTabBar","refPropName","extractNativeRef","ref","getNode","KeyboardAwareHOC","ScrollableComponent","_class","userOptions","arguments","length","hocOptions","_React$Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","getScrollResponder","_rnkasv_keyboardView","scrollToPosition","x","y","animated","responder","scrollResponderScrollTo","scrollToEnd","scrollResponderScrollToEnd","scrollForExtraHeightOnAndroid","position","scrollToFocusedInput","reactNode","setTimeout","mountedComponent","scrollResponderScrollNativeHandleToKeyboard","scrollIntoView","_callee","element","options","_await$Promise$all","_await$Promise$all2","parentLayout","childLayout","getScrollPosition","_getScrollPosition","_args","_regeneratorRuntime","async","_callee$","_context","prev","next","abrupt","awrap","Promise","all","_measureElement","sent","_slicedToArray","_defaultGetScrollPosition","stop","contentOffset","Math","max","node","resolve","measureInWindow","width","height","_updateKeyboardSpace","frames","keyboardSpace","endCoordinates","setState","currentlyFocusedField","State","viewIsDescendantOf","getInnerViewNode","isAncestor","textInputBottomPosition","keyboardPosition","screenY","totalExtraHeight","OS","_scrollToFocusedInputWithNodeHandle","resetScrollToCoords","defaultResetScrollToCoords","_resetKeyboardSpace","nodeID","_handleOnScroll","e","nativeEvent","_handleRef","innerRef","update","keyboardWillShowEvent","keyboardWillHideEvent","callbacks","state","_createClass","key","value","componentDidMount","_this2","addListener","forEach","callbackName","componentDidUpdate","prevProps","componentWillUnmount","remove","Object","values","callback","render","_this$props","onScroll","newContentContainerStyle","concat","paddingBottom","refProps","createElement","_extends","keyboardDismissMode","contentInset","bottom","automaticallyAdjustContentInsets","showsVerticalScrollIndicator","scrollEventThrottle","resetKeyboardSpace","handleOnScroll","forkEvent","__source","fileName","_jsxFileName","lineNumber","Component","propTypes","bool","shape","number","isRequired","oneOfType","object","any","defaultProps","listenToKeyboardEvents","configOrComp","Comp"],"sources":["/Users/sammerinio/Documents/flight-tracking-app/node_modules/react-native-keyboard-aware-scroll-view/lib/KeyboardAwareHOC.js"],"sourcesContent":["/* @flow */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  Keyboard,\n  Platform,\n  UIManager,\n  TextInput,\n  findNodeHandle,\n  Animated\n} from 'react-native'\nimport { isIphoneX } from 'react-native-iphone-x-helper'\nimport type { KeyboardAwareInterface } from './KeyboardAwareInterface'\n\nconst _KAM_DEFAULT_TAB_BAR_HEIGHT: number = isIphoneX() ? 83 : 49\nconst _KAM_KEYBOARD_OPENING_TIME: number = 250\nconst _KAM_EXTRA_HEIGHT: number = 75\n\nconst supportedKeyboardEvents = [\n  'keyboardWillShow',\n  'keyboardDidShow',\n  'keyboardWillHide',\n  'keyboardDidHide',\n  'keyboardWillChangeFrame',\n  'keyboardDidChangeFrame'\n]\nconst keyboardEventToCallbackName = (eventName: string) =>\n  'on' + eventName[0].toUpperCase() + eventName.substring(1)\nconst keyboardEventPropTypes = supportedKeyboardEvents.reduce(\n  (acc: Object, eventName: string) => ({\n    ...acc,\n    [keyboardEventToCallbackName(eventName)]: PropTypes.func\n  }),\n  {}\n)\nconst keyboardAwareHOCTypeEvents = supportedKeyboardEvents.reduce(\n  (acc: Object, eventName: string) => ({\n    ...acc,\n    [keyboardEventToCallbackName(eventName)]: Function\n  }),\n  {}\n)\n\nexport type KeyboardAwareHOCProps = {\n  viewIsInsideTabBar?: boolean,\n  resetScrollToCoords?: {\n    x: number,\n    y: number\n  },\n  enableResetScrollToCoords?: boolean,\n  enableAutomaticScroll?: boolean,\n  extraHeight?: number,\n  extraScrollHeight?: number,\n  keyboardOpeningTime?: number,\n  onScroll?: Function,\n  update?: Function,\n  contentContainerStyle?: any,\n  enableOnAndroid?: boolean,\n  innerRef?: Function,\n  ...keyboardAwareHOCTypeEvents\n}\nexport type KeyboardAwareHOCState = {\n  keyboardSpace: number\n}\n\nexport type ElementLayout = {\n  x: number,\n  y: number,\n  width: number,\n  height: number\n}\n\nexport type ContentOffset = {\n  x: number,\n  y: number\n}\n\nexport type ScrollPosition = {\n  x: number,\n  y: number,\n  animated: boolean\n}\n\nexport type ScrollIntoViewOptions = ?{\n  getScrollPosition?: (\n    parentLayout: ElementLayout,\n    childLayout: ElementLayout,\n    contentOffset: ContentOffset\n  ) => ScrollPosition\n}\n\nexport type KeyboardAwareHOCOptions = ?{\n  enableOnAndroid: boolean,\n  contentContainerStyle: ?Object,\n  enableAutomaticScroll: boolean,\n  extraHeight: number,\n  extraScrollHeight: number,\n  enableResetScrollToCoords: boolean,\n  keyboardOpeningTime: number,\n  viewIsInsideTabBar: boolean,\n  refPropName: string,\n  extractNativeRef: Function\n}\n\nfunction getDisplayName(WrappedComponent: React$Component) {\n  return (\n    (WrappedComponent &&\n      (WrappedComponent.displayName || WrappedComponent.name)) ||\n    'Component'\n  )\n}\n\nconst ScrollIntoViewDefaultOptions: KeyboardAwareHOCOptions = {\n  enableOnAndroid: false,\n  contentContainerStyle: undefined,\n  enableAutomaticScroll: true,\n  extraHeight: _KAM_EXTRA_HEIGHT,\n  extraScrollHeight: 0,\n  enableResetScrollToCoords: true,\n  keyboardOpeningTime: _KAM_KEYBOARD_OPENING_TIME,\n  viewIsInsideTabBar: false,\n\n  // The ref prop name that will be passed to the wrapped component to obtain a ref\n  // If your ScrollView is already wrapped, maybe the wrapper permit to get a ref\n  // For example, with glamorous-native ScrollView, you should use \"innerRef\"\n  refPropName: 'ref',\n  // Sometimes the ref you get is a ref to a wrapped view (ex: Animated.ScrollView)\n  // We need access to the imperative API of a real native ScrollView so we need extraction logic\n  extractNativeRef: (ref: Object) => {\n    // getNode() permit to support Animated.ScrollView automatically\n    // see https://github.com/facebook/react-native/issues/19650\n    // see https://stackoverflow.com/questions/42051368/scrollto-is-undefined-on-animated-scrollview/48786374\n    if (ref.getNode) {\n      return ref.getNode()\n    } else {\n      return ref\n    }\n  }\n}\n\nfunction KeyboardAwareHOC(\n  ScrollableComponent: React$Component,\n  userOptions: KeyboardAwareHOCOptions = {}\n) {\n  const hocOptions: KeyboardAwareHOCOptions = {\n    ...ScrollIntoViewDefaultOptions,\n    ...userOptions\n  }\n\n  return class\n    extends React.Component<KeyboardAwareHOCProps, KeyboardAwareHOCState>\n    implements KeyboardAwareInterface {\n    _rnkasv_keyboardView: any\n    keyboardWillShowEvent: ?Function\n    keyboardWillHideEvent: ?Function\n    position: ContentOffset\n    defaultResetScrollToCoords: ?{ x: number, y: number }\n    mountedComponent: boolean\n    handleOnScroll: Function\n    state: KeyboardAwareHOCState\n    static displayName = `KeyboardAware${getDisplayName(ScrollableComponent)}`\n\n    static propTypes = {\n      viewIsInsideTabBar: PropTypes.bool,\n      resetScrollToCoords: PropTypes.shape({\n        x: PropTypes.number.isRequired,\n        y: PropTypes.number.isRequired\n      }),\n      enableResetScrollToCoords: PropTypes.bool,\n      enableAutomaticScroll: PropTypes.bool,\n      extraHeight: PropTypes.number,\n      extraScrollHeight: PropTypes.number,\n      keyboardOpeningTime: PropTypes.number,\n      onScroll: PropTypes.oneOfType([\n        PropTypes.func, // Normal listener\n        PropTypes.object // Animated.event listener\n      ]),\n      update: PropTypes.func,\n      contentContainerStyle: PropTypes.any,\n      enableOnAndroid: PropTypes.bool,\n      innerRef: PropTypes.func,\n      ...keyboardEventPropTypes\n    }\n\n    // HOC options are used to init default props, so that these options can be overriden with component props\n    static defaultProps = {\n      enableAutomaticScroll: hocOptions.enableAutomaticScroll,\n      extraHeight: hocOptions.extraHeight,\n      extraScrollHeight: hocOptions.extraScrollHeight,\n      enableResetScrollToCoords: hocOptions.enableResetScrollToCoords,\n      keyboardOpeningTime: hocOptions.keyboardOpeningTime,\n      viewIsInsideTabBar: hocOptions.viewIsInsideTabBar,\n      enableOnAndroid: hocOptions.enableOnAndroid\n    }\n\n    constructor(props: KeyboardAwareHOCProps) {\n      super(props)\n      this.keyboardWillShowEvent = undefined\n      this.keyboardWillHideEvent = undefined\n      this.callbacks = {}\n      this.position = { x: 0, y: 0 }\n      this.defaultResetScrollToCoords = null\n      const keyboardSpace: number = props.viewIsInsideTabBar\n        ? _KAM_DEFAULT_TAB_BAR_HEIGHT\n        : 0\n      this.state = { keyboardSpace }\n    }\n\n    componentDidMount() {\n      this.mountedComponent = true\n      // Keyboard events\n      if (Platform.OS === 'ios') {\n        this.keyboardWillShowEvent = Keyboard.addListener(\n          'keyboardWillShow',\n          this._updateKeyboardSpace\n        )\n        this.keyboardWillHideEvent = Keyboard.addListener(\n          'keyboardWillHide',\n          this._resetKeyboardSpace\n        )\n      } else if (Platform.OS === 'android' && this.props.enableOnAndroid) {\n        this.keyboardWillShowEvent = Keyboard.addListener(\n          'keyboardDidShow',\n          this._updateKeyboardSpace\n        )\n        this.keyboardWillHideEvent = Keyboard.addListener(\n          'keyboardDidHide',\n          this._resetKeyboardSpace\n        )\n      }\n\n      supportedKeyboardEvents.forEach((eventName: string) => {\n        const callbackName = keyboardEventToCallbackName(eventName)\n        if (this.props[callbackName]) {\n          this.callbacks[eventName] = Keyboard.addListener(\n            eventName,\n            this.props[callbackName]\n          )\n        }\n      })\n    }\n\n    componentDidUpdate(prevProps: KeyboardAwareHOCProps) {\n      if (this.props.viewIsInsideTabBar !== prevProps.viewIsInsideTabBar) {\n        const keyboardSpace: number = this.props.viewIsInsideTabBar\n          ? _KAM_DEFAULT_TAB_BAR_HEIGHT\n          : 0\n        if (this.state.keyboardSpace !== keyboardSpace) {\n          this.setState({ keyboardSpace })\n        }\n      }\n    }\n\n    componentWillUnmount() {\n      this.mountedComponent = false\n      this.keyboardWillShowEvent && this.keyboardWillShowEvent.remove()\n      this.keyboardWillHideEvent && this.keyboardWillHideEvent.remove()\n      Object.values(this.callbacks).forEach((callback: Object) =>\n        callback.remove()\n      )\n    }\n\n    getScrollResponder = () => {\n      return (\n        this._rnkasv_keyboardView &&\n        this._rnkasv_keyboardView.getScrollResponder &&\n        this._rnkasv_keyboardView.getScrollResponder()\n      )\n    }\n\n    scrollToPosition = (x: number, y: number, animated: boolean = true) => {\n      const responder = this.getScrollResponder()\n      responder && responder.scrollResponderScrollTo({ x, y, animated })\n    }\n\n    scrollToEnd = (animated?: boolean = true) => {\n      const responder = this.getScrollResponder()\n      responder && responder.scrollResponderScrollToEnd({ animated })\n    }\n\n    scrollForExtraHeightOnAndroid = (extraHeight: number) => {\n      this.scrollToPosition(0, this.position.y + extraHeight, true)\n    }\n\n    /**\n     * @param keyboardOpeningTime: takes a different keyboardOpeningTime in consideration.\n     * @param extraHeight: takes an extra height in consideration.\n     */\n    scrollToFocusedInput = (\n      reactNode: any,\n      extraHeight?: number,\n      keyboardOpeningTime?: number\n    ) => {\n      if (extraHeight === undefined) {\n        extraHeight = this.props.extraHeight || 0\n      }\n      if (keyboardOpeningTime === undefined) {\n        keyboardOpeningTime = this.props.keyboardOpeningTime || 0\n      }\n      setTimeout(() => {\n        if (!this.mountedComponent) {\n          return\n        }\n        const responder = this.getScrollResponder()\n        responder &&\n          responder.scrollResponderScrollNativeHandleToKeyboard(\n            reactNode,\n            extraHeight,\n            true\n          )\n      }, keyboardOpeningTime)\n    }\n\n    scrollIntoView = async (\n      element: React.Element<*>,\n      options: ScrollIntoViewOptions = {}\n    ) => {\n      if (!this._rnkasv_keyboardView || !element) {\n        return\n      }\n\n      const [parentLayout, childLayout] = await Promise.all([\n        this._measureElement(this._rnkasv_keyboardView),\n        this._measureElement(element)\n      ])\n\n      const getScrollPosition =\n        options.getScrollPosition || this._defaultGetScrollPosition\n      const { x, y, animated } = getScrollPosition(\n        parentLayout,\n        childLayout,\n        this.position\n      )\n      this.scrollToPosition(x, y, animated)\n    }\n\n    _defaultGetScrollPosition = (\n      parentLayout: ElementLayout,\n      childLayout: ElementLayout,\n      contentOffset: ContentOffset\n    ): ScrollPosition => {\n      return {\n        x: 0,\n        y: Math.max(0, childLayout.y - parentLayout.y + contentOffset.y),\n        animated: true\n      }\n    }\n\n    _measureElement = (element: React.Element<*>): Promise<ElementLayout> => {\n      const node = findNodeHandle(element)\n      return new Promise((resolve: ElementLayout => void) => {\n        UIManager.measureInWindow(\n          node,\n          (x: number, y: number, width: number, height: number) => {\n            resolve({ x, y, width, height })\n          }\n        )\n      })\n    }\n\n    // Keyboard actions\n    _updateKeyboardSpace = (frames: Object) => {\n      // Automatically scroll to focused TextInput\n      if (this.props.enableAutomaticScroll) {\n        let keyboardSpace: number =\n          frames.endCoordinates.height + this.props.extraScrollHeight\n        if (this.props.viewIsInsideTabBar) {\n          keyboardSpace -= _KAM_DEFAULT_TAB_BAR_HEIGHT\n        }\n        this.setState({ keyboardSpace })\n        const currentlyFocusedField = TextInput.State.currentlyFocusedField()\n        const responder = this.getScrollResponder()\n        if (!currentlyFocusedField || !responder) {\n          return\n        }\n        UIManager.viewIsDescendantOf(\n          currentlyFocusedField,\n          responder.getInnerViewNode(),\n          (isAncestor: boolean) => {\n            if (isAncestor) {\n              // Check if the TextInput will be hidden by the keyboard\n              UIManager.measureInWindow(\n                currentlyFocusedField,\n                (x: number, y: number, width: number, height: number) => {\n                  const textInputBottomPosition = y + height\n                  const keyboardPosition = frames.endCoordinates.screenY\n                  const totalExtraHeight =\n                    this.props.extraScrollHeight + this.props.extraHeight\n                  if (Platform.OS === 'ios') {\n                    if (\n                      textInputBottomPosition >\n                      keyboardPosition - totalExtraHeight\n                    ) {\n                      this._scrollToFocusedInputWithNodeHandle(\n                        currentlyFocusedField\n                      )\n                    }\n                  } else {\n                    // On android, the system would scroll the text input just\n                    // above the keyboard so we just neet to scroll the extra\n                    // height part\n                    if (textInputBottomPosition > keyboardPosition) {\n                      // Since the system already scrolled the whole view up\n                      // we should reduce that amount\n                      keyboardSpace =\n                        keyboardSpace -\n                        (textInputBottomPosition - keyboardPosition)\n                      this.setState({ keyboardSpace })\n                      this.scrollForExtraHeightOnAndroid(totalExtraHeight)\n                    } else if (\n                      textInputBottomPosition >\n                      keyboardPosition - totalExtraHeight\n                    ) {\n                      this.scrollForExtraHeightOnAndroid(\n                        totalExtraHeight -\n                          (keyboardPosition - textInputBottomPosition)\n                      )\n                    }\n                  }\n                }\n              )\n            }\n          }\n        )\n      }\n      if (!this.props.resetScrollToCoords) {\n        if (!this.defaultResetScrollToCoords) {\n          this.defaultResetScrollToCoords = this.position\n        }\n      }\n    }\n\n    _resetKeyboardSpace = () => {\n      const keyboardSpace: number = this.props.viewIsInsideTabBar\n        ? _KAM_DEFAULT_TAB_BAR_HEIGHT\n        : 0\n      this.setState({ keyboardSpace })\n      // Reset scroll position after keyboard dismissal\n      if (this.props.enableResetScrollToCoords === false) {\n        this.defaultResetScrollToCoords = null\n        return\n      } else if (this.props.resetScrollToCoords) {\n        this.scrollToPosition(\n          this.props.resetScrollToCoords.x,\n          this.props.resetScrollToCoords.y,\n          true\n        )\n      } else {\n        if (this.defaultResetScrollToCoords) {\n          this.scrollToPosition(\n            this.defaultResetScrollToCoords.x,\n            this.defaultResetScrollToCoords.y,\n            true\n          )\n          this.defaultResetScrollToCoords = null\n        } else {\n          this.scrollToPosition(0, 0, true)\n        }\n      }\n    }\n\n    _scrollToFocusedInputWithNodeHandle = (\n      nodeID: number,\n      extraHeight?: number,\n      keyboardOpeningTime?: number\n    ) => {\n      if (extraHeight === undefined) {\n        extraHeight = this.props.extraHeight\n      }\n      const reactNode = findNodeHandle(nodeID)\n      this.scrollToFocusedInput(\n        reactNode,\n        extraHeight + this.props.extraScrollHeight,\n        keyboardOpeningTime !== undefined\n          ? keyboardOpeningTime\n          : this.props.keyboardOpeningTime || 0\n      )\n    }\n\n    _handleOnScroll = (\n      e: SyntheticEvent<*> & { nativeEvent: { contentOffset: number } }\n    ) => {\n      this.position = e.nativeEvent.contentOffset\n    }\n\n    _handleRef = (ref: React.Component<*>) => {\n      this._rnkasv_keyboardView = ref ? hocOptions.extractNativeRef(ref) : ref\n      if (this.props.innerRef) {\n        this.props.innerRef(this._rnkasv_keyboardView)\n      }\n    }\n\n    update = () => {\n      const currentlyFocusedField = TextInput.State.currentlyFocusedField()\n      const responder = this.getScrollResponder()\n\n      if (!currentlyFocusedField || !responder) {\n        return\n      }\n\n      this._scrollToFocusedInputWithNodeHandle(currentlyFocusedField)\n    }\n\n    render() {\n      const { enableOnAndroid, contentContainerStyle, onScroll } = this.props\n      let newContentContainerStyle\n      if (Platform.OS === 'android' && enableOnAndroid) {\n        newContentContainerStyle = [].concat(contentContainerStyle).concat({\n          paddingBottom:\n            ((contentContainerStyle || {}).paddingBottom || 0) +\n            this.state.keyboardSpace\n        })\n      }\n      const refProps = { [hocOptions.refPropName]: this._handleRef }\n      return (\n        <ScrollableComponent\n          {...refProps}\n          keyboardDismissMode='interactive'\n          contentInset={{ bottom: this.state.keyboardSpace }}\n          automaticallyAdjustContentInsets={false}\n          showsVerticalScrollIndicator={true}\n          scrollEventThrottle={1}\n          {...this.props}\n          contentContainerStyle={\n            newContentContainerStyle || contentContainerStyle\n          }\n          keyboardSpace={this.state.keyboardSpace}\n          getScrollResponder={this.getScrollResponder}\n          scrollToPosition={this.scrollToPosition}\n          scrollToEnd={this.scrollToEnd}\n          scrollForExtraHeightOnAndroid={this.scrollForExtraHeightOnAndroid}\n          scrollToFocusedInput={this.scrollToFocusedInput}\n          scrollIntoView={this.scrollIntoView}\n          resetKeyboardSpace={this._resetKeyboardSpace}\n          handleOnScroll={this._handleOnScroll}\n          update={this.update}\n          onScroll={Animated.forkEvent(onScroll, this._handleOnScroll)}\n        />\n      )\n    }\n  }\n}\n\n// Allow to pass options, without breaking change, and curried for composition\n// listenToKeyboardEvents(ScrollView);\n// listenToKeyboardEvents(options)(Comp);\nconst listenToKeyboardEvents = (configOrComp: any) => {\n  if (typeof configOrComp === 'object') {\n    return (Comp: Function) => KeyboardAwareHOC(Comp, configOrComp)\n  } else {\n    return KeyboardAwareHOC(configOrComp)\n  }\n}\n\nexport default listenToKeyboardEvents\n"],"mappings":";;;;;;;;;;;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAAA,OAAAC,QAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,cAAA;AAAA,OAAAC,QAAA;AASlC,SAASC,SAAS,QAAQ,8BAA8B;AAGxD,IAAMC,2BAAmC,GAAGD,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE;AACjE,IAAME,0BAAkC,GAAG,GAAG;AAC9C,IAAMC,iBAAyB,GAAG,EAAE;AAEpC,IAAMC,uBAAuB,GAAG,CAC9B,kBAAkB,EAClB,iBAAiB,EACjB,kBAAkB,EAClB,iBAAiB,EACjB,yBAAyB,EACzB,wBAAwB,CACzB;AACD,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAIC,SAAiB;EAAA,OACpD,IAAI,GAAGA,SAAS,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGD,SAAS,CAACE,SAAS,CAAC,CAAC,CAAC;AAAA;AAC5D,IAAMC,sBAAsB,GAAGL,uBAAuB,CAACM,MAAM,CAC3D,UAACC,GAAW,EAAEL,SAAiB;EAAA,OAAAM,aAAA,KAC1BD,GAAG,EAAAE,eAAA,KACLR,2BAA2B,CAACC,SAAS,CAAC,EAAGb,SAAS,CAACqB,IAAI;AAAA,CACxD,EACF,CAAC,CAAC,CACH;AACD,IAAMC,0BAA0B,GAAGX,uBAAuB,CAACM,MAAM,CAC/D,UAACC,GAAW,EAAEL,SAAiB;EAAA,OAAAM,aAAA,KAC1BD,GAAG,EAAAE,eAAA,KACLR,2BAA2B,CAACC,SAAS,CAAC,EAAGU,QAAQ;AAAA,CAClD,EACF,CAAC,CAAC,CACH;AA+DD,SAASC,cAAcA,CAACC,gBAAiC,EAAE;EACzD,OACGA,gBAAgB,KACdA,gBAAgB,CAACC,WAAW,IAAID,gBAAgB,CAACE,IAAI,CAAC,IACzD,WAAW;AAEf;AAEA,IAAMC,4BAAqD,GAAG;EAC5DC,eAAe,EAAE,KAAK;EACtBC,qBAAqB,EAAEC,SAAS;EAChCC,qBAAqB,EAAE,IAAI;EAC3BC,WAAW,EAAEvB,iBAAiB;EAC9BwB,iBAAiB,EAAE,CAAC;EACpBC,yBAAyB,EAAE,IAAI;EAC/BC,mBAAmB,EAAE3B,0BAA0B;EAC/C4B,kBAAkB,EAAE,KAAK;EAKzBC,WAAW,EAAE,KAAK;EAGlBC,gBAAgB,EAAE,SAAAA,iBAACC,GAAW,EAAK;IAIjC,IAAIA,GAAG,CAACC,OAAO,EAAE;MACf,OAAOD,GAAG,CAACC,OAAO,EAAE;IACtB,CAAC,MAAM;MACL,OAAOD,GAAG;IACZ;EACF;AACF,CAAC;AAED,SAASE,gBAAgBA,CACvBC,mBAAoC,EAEpC;EAAA,IAAAC,MAAA;EAAA,IADAC,WAAoC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAf,SAAA,GAAAe,SAAA,MAAG,CAAC,CAAC;EAEzC,IAAME,UAAmC,GAAA7B,aAAA,KACpCS,4BAA4B,MAC5BiB,WAAW,CACf;EAED,OAAAD,MAAA,aAAAK,gBAAA;IAAAC,SAAA,CAAAN,MAAA,EAAAK,gBAAA;IA8CE,SAAAL,OAAYO,KAA4B,EAAE;MAAA,IAAAC,KAAA;MAAAC,eAAA,OAAAT,MAAA;MACxCQ,KAAA,GAAAE,0BAAA,OAAAC,eAAA,CAAAX,MAAA,EAAAY,IAAA,OAAML,KAAK;MAACC,KAAA,CAkEdK,kBAAkB,GAAG,YAAM;QACzB,OACEL,KAAA,CAAKM,oBAAoB,IACzBN,KAAA,CAAKM,oBAAoB,CAACD,kBAAkB,IAC5CL,KAAA,CAAKM,oBAAoB,CAACD,kBAAkB,EAAE;MAElD,CAAC;MAAAL,KAAA,CAEDO,gBAAgB,GAAG,UAACC,CAAS,EAAEC,CAAS,EAA+B;QAAA,IAA7BC,QAAiB,GAAAhB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAf,SAAA,GAAAe,SAAA,MAAG,IAAI;QAChE,IAAMiB,SAAS,GAAGX,KAAA,CAAKK,kBAAkB,EAAE;QAC3CM,SAAS,IAAIA,SAAS,CAACC,uBAAuB,CAAC;UAAEJ,CAAC,EAADA,CAAC;UAAEC,CAAC,EAADA,CAAC;UAAEC,QAAQ,EAARA;QAAS,CAAC,CAAC;MACpE,CAAC;MAAAV,KAAA,CAEDa,WAAW,GAAG,YAA+B;QAAA,IAA9BH,QAAkB,GAAAhB,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAf,SAAA,GAAAe,SAAA,MAAG,IAAI;QACtC,IAAMiB,SAAS,GAAGX,KAAA,CAAKK,kBAAkB,EAAE;QAC3CM,SAAS,IAAIA,SAAS,CAACG,0BAA0B,CAAC;UAAEJ,QAAQ,EAARA;QAAS,CAAC,CAAC;MACjE,CAAC;MAAAV,KAAA,CAEDe,6BAA6B,GAAG,UAAClC,WAAmB,EAAK;QACvDmB,KAAA,CAAKO,gBAAgB,CAAC,CAAC,EAAEP,KAAA,CAAKgB,QAAQ,CAACP,CAAC,GAAG5B,WAAW,EAAE,IAAI,CAAC;MAC/D,CAAC;MAAAmB,KAAA,CAMDiB,oBAAoB,GAAG,UACrBC,SAAc,EACdrC,WAAoB,EACpBG,mBAA4B,EACzB;QACH,IAAIH,WAAW,KAAKF,SAAS,EAAE;UAC7BE,WAAW,GAAGmB,KAAA,CAAKD,KAAK,CAAClB,WAAW,IAAI,CAAC;QAC3C;QACA,IAAIG,mBAAmB,KAAKL,SAAS,EAAE;UACrCK,mBAAmB,GAAGgB,KAAA,CAAKD,KAAK,CAACf,mBAAmB,IAAI,CAAC;QAC3D;QACAmC,UAAU,CAAC,YAAM;UACf,IAAI,CAACnB,KAAA,CAAKoB,gBAAgB,EAAE;YAC1B;UACF;UACA,IAAMT,SAAS,GAAGX,KAAA,CAAKK,kBAAkB,EAAE;UAC3CM,SAAS,IACPA,SAAS,CAACU,2CAA2C,CACnDH,SAAS,EACTrC,WAAW,EACX,IAAI,CACL;QACL,CAAC,EAAEG,mBAAmB,CAAC;MACzB,CAAC;MAAAgB,KAAA,CAEDsB,cAAc,GAAG,SAAAC,QACfC,OAAyB;QAAA,IAAAC,OAAA;UAAAC,kBAAA;UAAAC,mBAAA;UAAAC,YAAA;UAAAC,WAAA;UAAAC,iBAAA;UAAAC,kBAAA;UAAAvB,CAAA;UAAAC,CAAA;UAAAC,QAAA;UAAAsB,KAAA,GAAAtC,SAAA;QAAA,OAAAuC,mBAAA,CAAAC,KAAA,UAAAC,SAAAC,QAAA;UAAA;YAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBACzBb,OAA8B,GAAAO,KAAA,CAAArC,MAAA,QAAAqC,KAAA,QAAArD,SAAA,GAAAqD,KAAA,MAAG,CAAC,CAAC;gBAAA,MAE/B,CAAChC,KAAA,CAAKM,oBAAoB,IAAI,CAACkB,OAAO;kBAAAY,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAAA,OAAAF,QAAA,CAAAG,MAAA;cAAA;gBAAAH,QAAA,CAAAE,IAAA;gBAAA,OAAAL,mBAAA,CAAAO,KAAA,CAIAC,OAAO,CAACC,GAAG,CAAC,CACpD1C,KAAA,CAAK2C,eAAe,CAAC3C,KAAA,CAAKM,oBAAoB,CAAC,EAC/CN,KAAA,CAAK2C,eAAe,CAACnB,OAAO,CAAC,CAC9B,CAAC;cAAA;gBAAAE,kBAAA,GAAAU,QAAA,CAAAQ,IAAA;gBAAAjB,mBAAA,GAAAkB,cAAA,CAAAnB,kBAAA;gBAHKE,YAAY,GAAAD,mBAAA;gBAAEE,WAAW,GAAAF,mBAAA;gBAK1BG,iBAAiB,GACrBL,OAAO,CAACK,iBAAiB,IAAI9B,KAAA,CAAK8C,yBAAyB;gBAAAf,kBAAA,GAClCD,iBAAiB,CAC1CF,YAAY,EACZC,WAAW,EACX7B,KAAA,CAAKgB,QAAQ,CACd,EAJOR,CAAC,GAAAuB,kBAAA,CAADvB,CAAC,EAAEC,CAAC,GAAAsB,kBAAA,CAADtB,CAAC,EAAEC,QAAQ,GAAAqB,kBAAA,CAARrB,QAAQ;gBAKtBV,KAAA,CAAKO,gBAAgB,CAACC,CAAC,EAAEC,CAAC,EAAEC,QAAQ,CAAC;cAAA;cAAA;gBAAA,OAAA0B,QAAA,CAAAW,IAAA;YAAA;UAAA;QAAA;MAAA,CACtC;MAAA/C,KAAA,CAED8C,yBAAyB,GAAG,UAC1BlB,YAA2B,EAC3BC,WAA0B,EAC1BmB,aAA4B,EACT;QACnB,OAAO;UACLxC,CAAC,EAAE,CAAC;UACJC,CAAC,EAAEwC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAErB,WAAW,CAACpB,CAAC,GAAGmB,YAAY,CAACnB,CAAC,GAAGuC,aAAa,CAACvC,CAAC,CAAC;UAChEC,QAAQ,EAAE;QACZ,CAAC;MACH,CAAC;MAAAV,KAAA,CAED2C,eAAe,GAAG,UAACnB,OAAyB,EAA6B;QACvE,IAAM2B,IAAI,GAAGlG,cAAc,CAACuE,OAAO,CAAC;QACpC,OAAO,IAAIiB,OAAO,CAAC,UAACW,OAA8B,EAAK;UACrDrG,SAAS,CAACsG,eAAe,CACvBF,IAAI,EACJ,UAAC3C,CAAS,EAAEC,CAAS,EAAE6C,KAAa,EAAEC,MAAc,EAAK;YACvDH,OAAO,CAAC;cAAE5C,CAAC,EAADA,CAAC;cAAEC,CAAC,EAADA,CAAC;cAAE6C,KAAK,EAALA,KAAK;cAAEC,MAAM,EAANA;YAAO,CAAC,CAAC;UAClC,CAAC,CACF;QACH,CAAC,CAAC;MACJ,CAAC;MAAAvD,KAAA,CAGDwD,oBAAoB,GAAG,UAACC,MAAc,EAAK;QAEzC,IAAIzD,KAAA,CAAKD,KAAK,CAACnB,qBAAqB,EAAE;UACpC,IAAI8E,aAAqB,GACvBD,MAAM,CAACE,cAAc,CAACJ,MAAM,GAAGvD,KAAA,CAAKD,KAAK,CAACjB,iBAAiB;UAC7D,IAAIkB,KAAA,CAAKD,KAAK,CAACd,kBAAkB,EAAE;YACjCyE,aAAa,IAAItG,2BAA2B;UAC9C;UACA4C,KAAA,CAAK4D,QAAQ,CAAC;YAAEF,aAAa,EAAbA;UAAc,CAAC,CAAC;UAChC,IAAMG,qBAAqB,GAAG7G,SAAS,CAAC8G,KAAK,CAACD,qBAAqB,EAAE;UACrE,IAAMlD,SAAS,GAAGX,KAAA,CAAKK,kBAAkB,EAAE;UAC3C,IAAI,CAACwD,qBAAqB,IAAI,CAAClD,SAAS,EAAE;YACxC;UACF;UACA5D,SAAS,CAACgH,kBAAkB,CAC1BF,qBAAqB,EACrBlD,SAAS,CAACqD,gBAAgB,EAAE,EAC5B,UAACC,UAAmB,EAAK;YACvB,IAAIA,UAAU,EAAE;cAEdlH,SAAS,CAACsG,eAAe,CACvBQ,qBAAqB,EACrB,UAACrD,CAAS,EAAEC,CAAS,EAAE6C,KAAa,EAAEC,MAAc,EAAK;gBACvD,IAAMW,uBAAuB,GAAGzD,CAAC,GAAG8C,MAAM;gBAC1C,IAAMY,gBAAgB,GAAGV,MAAM,CAACE,cAAc,CAACS,OAAO;gBACtD,IAAMC,gBAAgB,GACpBrE,KAAA,CAAKD,KAAK,CAACjB,iBAAiB,GAAGkB,KAAA,CAAKD,KAAK,CAAClB,WAAW;gBACvD,IAAI/B,QAAQ,CAACwH,EAAE,KAAK,KAAK,EAAE;kBACzB,IACEJ,uBAAuB,GACvBC,gBAAgB,GAAGE,gBAAgB,EACnC;oBACArE,KAAA,CAAKuE,mCAAmC,CACtCV,qBAAqB,CACtB;kBACH;gBACF,CAAC,MAAM;kBAIL,IAAIK,uBAAuB,GAAGC,gBAAgB,EAAE;oBAG9CT,aAAa,GACXA,aAAa,IACZQ,uBAAuB,GAAGC,gBAAgB,CAAC;oBAC9CnE,KAAA,CAAK4D,QAAQ,CAAC;sBAAEF,aAAa,EAAbA;oBAAc,CAAC,CAAC;oBAChC1D,KAAA,CAAKe,6BAA6B,CAACsD,gBAAgB,CAAC;kBACtD,CAAC,MAAM,IACLH,uBAAuB,GACvBC,gBAAgB,GAAGE,gBAAgB,EACnC;oBACArE,KAAA,CAAKe,6BAA6B,CAChCsD,gBAAgB,IACbF,gBAAgB,GAAGD,uBAAuB,CAAC,CAC/C;kBACH;gBACF;cACF,CAAC,CACF;YACH;UACF,CAAC,CACF;QACH;QACA,IAAI,CAAClE,KAAA,CAAKD,KAAK,CAACyE,mBAAmB,EAAE;UACnC,IAAI,CAACxE,KAAA,CAAKyE,0BAA0B,EAAE;YACpCzE,KAAA,CAAKyE,0BAA0B,GAAGzE,KAAA,CAAKgB,QAAQ;UACjD;QACF;MACF,CAAC;MAAAhB,KAAA,CAED0E,mBAAmB,GAAG,YAAM;QAC1B,IAAMhB,aAAqB,GAAG1D,KAAA,CAAKD,KAAK,CAACd,kBAAkB,GACvD7B,2BAA2B,GAC3B,CAAC;QACL4C,KAAA,CAAK4D,QAAQ,CAAC;UAAEF,aAAa,EAAbA;QAAc,CAAC,CAAC;QAEhC,IAAI1D,KAAA,CAAKD,KAAK,CAAChB,yBAAyB,KAAK,KAAK,EAAE;UAClDiB,KAAA,CAAKyE,0BAA0B,GAAG,IAAI;UACtC;QACF,CAAC,MAAM,IAAIzE,KAAA,CAAKD,KAAK,CAACyE,mBAAmB,EAAE;UACzCxE,KAAA,CAAKO,gBAAgB,CACnBP,KAAA,CAAKD,KAAK,CAACyE,mBAAmB,CAAChE,CAAC,EAChCR,KAAA,CAAKD,KAAK,CAACyE,mBAAmB,CAAC/D,CAAC,EAChC,IAAI,CACL;QACH,CAAC,MAAM;UACL,IAAIT,KAAA,CAAKyE,0BAA0B,EAAE;YACnCzE,KAAA,CAAKO,gBAAgB,CACnBP,KAAA,CAAKyE,0BAA0B,CAACjE,CAAC,EACjCR,KAAA,CAAKyE,0BAA0B,CAAChE,CAAC,EACjC,IAAI,CACL;YACDT,KAAA,CAAKyE,0BAA0B,GAAG,IAAI;UACxC,CAAC,MAAM;YACLzE,KAAA,CAAKO,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;UACnC;QACF;MACF,CAAC;MAAAP,KAAA,CAEDuE,mCAAmC,GAAG,UACpCI,MAAc,EACd9F,WAAoB,EACpBG,mBAA4B,EACzB;QACH,IAAIH,WAAW,KAAKF,SAAS,EAAE;UAC7BE,WAAW,GAAGmB,KAAA,CAAKD,KAAK,CAAClB,WAAW;QACtC;QACA,IAAMqC,SAAS,GAAGjE,cAAc,CAAC0H,MAAM,CAAC;QACxC3E,KAAA,CAAKiB,oBAAoB,CACvBC,SAAS,EACTrC,WAAW,GAAGmB,KAAA,CAAKD,KAAK,CAACjB,iBAAiB,EAC1CE,mBAAmB,KAAKL,SAAS,GAC7BK,mBAAmB,GACnBgB,KAAA,CAAKD,KAAK,CAACf,mBAAmB,IAAI,CAAC,CACxC;MACH,CAAC;MAAAgB,KAAA,CAED4E,eAAe,GAAG,UAChBC,CAAiE,EAC9D;QACH7E,KAAA,CAAKgB,QAAQ,GAAG6D,CAAC,CAACC,WAAW,CAAC9B,aAAa;MAC7C,CAAC;MAAAhD,KAAA,CAED+E,UAAU,GAAG,UAAC3F,GAAuB,EAAK;QACxCY,KAAA,CAAKM,oBAAoB,GAAGlB,GAAG,GAAGQ,UAAU,CAACT,gBAAgB,CAACC,GAAG,CAAC,GAAGA,GAAG;QACxE,IAAIY,KAAA,CAAKD,KAAK,CAACiF,QAAQ,EAAE;UACvBhF,KAAA,CAAKD,KAAK,CAACiF,QAAQ,CAAChF,KAAA,CAAKM,oBAAoB,CAAC;QAChD;MACF,CAAC;MAAAN,KAAA,CAEDiF,MAAM,GAAG,YAAM;QACb,IAAMpB,qBAAqB,GAAG7G,SAAS,CAAC8G,KAAK,CAACD,qBAAqB,EAAE;QACrE,IAAMlD,SAAS,GAAGX,KAAA,CAAKK,kBAAkB,EAAE;QAE3C,IAAI,CAACwD,qBAAqB,IAAI,CAAClD,SAAS,EAAE;UACxC;QACF;QAEAX,KAAA,CAAKuE,mCAAmC,CAACV,qBAAqB,CAAC;MACjE,CAAC;MAhTC7D,KAAA,CAAKkF,qBAAqB,GAAGvG,SAAS;MACtCqB,KAAA,CAAKmF,qBAAqB,GAAGxG,SAAS;MACtCqB,KAAA,CAAKoF,SAAS,GAAG,CAAC,CAAC;MACnBpF,KAAA,CAAKgB,QAAQ,GAAG;QAAER,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE,CAAC;MAC9BT,KAAA,CAAKyE,0BAA0B,GAAG,IAAI;MACtC,IAAMf,cAAqB,GAAG3D,KAAK,CAACd,kBAAkB,GAClD7B,2BAA2B,GAC3B,CAAC;MACL4C,KAAA,CAAKqF,KAAK,GAAG;QAAE3B,aAAa,EAAbA;MAAc,CAAC;MAAA,OAAA1D,KAAA;IAChC;IAACsF,YAAA,CAAA9F,MAAA;MAAA+F,GAAA;MAAAC,KAAA,WAAAC,kBAAA,EAEmB;QAAA,IAAAC,MAAA;QAClB,IAAI,CAACtE,gBAAgB,GAAG,IAAI;QAE5B,IAAItE,QAAQ,CAACwH,EAAE,KAAK,KAAK,EAAE;UACzB,IAAI,CAACY,qBAAqB,GAAGrI,QAAQ,CAAC8I,WAAW,CAC/C,kBAAkB,EAClB,IAAI,CAACnC,oBAAoB,CAC1B;UACD,IAAI,CAAC2B,qBAAqB,GAAGtI,QAAQ,CAAC8I,WAAW,CAC/C,kBAAkB,EAClB,IAAI,CAACjB,mBAAmB,CACzB;QACH,CAAC,MAAM,IAAI5H,QAAQ,CAACwH,EAAE,KAAK,SAAS,IAAI,IAAI,CAACvE,KAAK,CAACtB,eAAe,EAAE;UAClE,IAAI,CAACyG,qBAAqB,GAAGrI,QAAQ,CAAC8I,WAAW,CAC/C,iBAAiB,EACjB,IAAI,CAACnC,oBAAoB,CAC1B;UACD,IAAI,CAAC2B,qBAAqB,GAAGtI,QAAQ,CAAC8I,WAAW,CAC/C,iBAAiB,EACjB,IAAI,CAACjB,mBAAmB,CACzB;QACH;QAEAnH,uBAAuB,CAACqI,OAAO,CAAC,UAACnI,SAAiB,EAAK;UACrD,IAAMoI,YAAY,GAAGrI,2BAA2B,CAACC,SAAS,CAAC;UAC3D,IAAIiI,MAAI,CAAC3F,KAAK,CAAC8F,YAAY,CAAC,EAAE;YAC5BH,MAAI,CAACN,SAAS,CAAC3H,SAAS,CAAC,GAAGZ,QAAQ,CAAC8I,WAAW,CAC9ClI,SAAS,EACTiI,MAAI,CAAC3F,KAAK,CAAC8F,YAAY,CAAC,CACzB;UACH;QACF,CAAC,CAAC;MACJ;IAAC;MAAAN,GAAA;MAAAC,KAAA,WAAAM,mBAEkBC,SAAgC,EAAE;QACnD,IAAI,IAAI,CAAChG,KAAK,CAACd,kBAAkB,KAAK8G,SAAS,CAAC9G,kBAAkB,EAAE;UAClE,IAAMyE,aAAqB,GAAG,IAAI,CAAC3D,KAAK,CAACd,kBAAkB,GACvD7B,2BAA2B,GAC3B,CAAC;UACL,IAAI,IAAI,CAACiI,KAAK,CAAC3B,aAAa,KAAKA,aAAa,EAAE;YAC9C,IAAI,CAACE,QAAQ,CAAC;cAAEF,aAAa,EAAbA;YAAc,CAAC,CAAC;UAClC;QACF;MACF;IAAC;MAAA6B,GAAA;MAAAC,KAAA,WAAAQ,qBAAA,EAEsB;QACrB,IAAI,CAAC5E,gBAAgB,GAAG,KAAK;QAC7B,IAAI,CAAC8D,qBAAqB,IAAI,IAAI,CAACA,qBAAqB,CAACe,MAAM,EAAE;QACjE,IAAI,CAACd,qBAAqB,IAAI,IAAI,CAACA,qBAAqB,CAACc,MAAM,EAAE;QACjEC,MAAM,CAACC,MAAM,CAAC,IAAI,CAACf,SAAS,CAAC,CAACQ,OAAO,CAAC,UAACQ,QAAgB;UAAA,OACrDA,QAAQ,CAACH,MAAM,EAAE;QAAA,EAClB;MACH;IAAC;MAAAV,GAAA;MAAAC,KAAA,WAAAa,OAAA,EAmPQ;QAAA,IAAAC,WAAA,GACsD,IAAI,CAACvG,KAAK;UAA/DtB,eAAe,GAAA6H,WAAA,CAAf7H,eAAe;UAAEC,qBAAqB,GAAA4H,WAAA,CAArB5H,qBAAqB;UAAE6H,QAAQ,GAAAD,WAAA,CAARC,QAAQ;QACxD,IAAIC,wBAAwB;QAC5B,IAAI1J,QAAQ,CAACwH,EAAE,KAAK,SAAS,IAAI7F,eAAe,EAAE;UAChD+H,wBAAwB,GAAG,EAAE,CAACC,MAAM,CAAC/H,qBAAqB,CAAC,CAAC+H,MAAM,CAAC;YACjEC,aAAa,EACX,CAAC,CAAChI,qBAAqB,IAAI,CAAC,CAAC,EAAEgI,aAAa,IAAI,CAAC,IACjD,IAAI,CAACrB,KAAK,CAAC3B;UACf,CAAC,CAAC;QACJ;QACA,IAAMiD,QAAQ,GAAA3I,eAAA,KAAM4B,UAAU,CAACV,WAAW,EAAG,IAAI,CAAC6F,UAAU,CAAE;QAC9D,OACEpI,KAAA,CAAAiK,aAAA,CAACrH,mBAAmB,EAAAsH,QAAA,KACdF,QAAQ;UACZG,mBAAmB,EAAC,aAAa;UACjCC,YAAY,EAAE;YAAEC,MAAM,EAAE,IAAI,CAAC3B,KAAK,CAAC3B;UAAc,CAAE;UACnDuD,gCAAgC,EAAE,KAAM;UACxCC,4BAA4B,EAAE,IAAK;UACnCC,mBAAmB,EAAE;QAAE,GACnB,IAAI,CAACpH,KAAK;UACdrB,qBAAqB,EACnB8H,wBAAwB,IAAI9H,qBAC7B;UACDgF,aAAa,EAAE,IAAI,CAAC2B,KAAK,CAAC3B,aAAc;UACxCrD,kBAAkB,EAAE,IAAI,CAACA,kBAAmB;UAC5CE,gBAAgB,EAAE,IAAI,CAACA,gBAAiB;UACxCM,WAAW,EAAE,IAAI,CAACA,WAAY;UAC9BE,6BAA6B,EAAE,IAAI,CAACA,6BAA8B;UAClEE,oBAAoB,EAAE,IAAI,CAACA,oBAAqB;UAChDK,cAAc,EAAE,IAAI,CAACA,cAAe;UACpC8F,kBAAkB,EAAE,IAAI,CAAC1C,mBAAoB;UAC7C2C,cAAc,EAAE,IAAI,CAACzC,eAAgB;UACrCK,MAAM,EAAE,IAAI,CAACA,MAAO;UACpBsB,QAAQ,EAAErJ,QAAQ,CAACoK,SAAS,CAACf,QAAQ,EAAE,IAAI,CAAC3B,eAAe,CAAE;UAAA2C,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;UAAA;QAAA,GAC7D;MAEN;IAAC;IAAA,OAAAlI,MAAA;EAAA,EArYO7C,KAAK,CAACgL,SAAS,GAAAnI,MAAA,CAUhBlB,WAAW,qBAAmBF,cAAc,CAACmB,mBAAmB,CAAC,EAAAC,MAAA,CAEjEoI,SAAS,GAAA7J,aAAA;IACdkB,kBAAkB,EAAErC,SAAS,CAACiL,IAAI;IAClCrD,mBAAmB,EAAE5H,SAAS,CAACkL,KAAK,CAAC;MACnCtH,CAAC,EAAE5D,SAAS,CAACmL,MAAM,CAACC,UAAU;MAC9BvH,CAAC,EAAE7D,SAAS,CAACmL,MAAM,CAACC;IACtB,CAAC,CAAC;IACFjJ,yBAAyB,EAAEnC,SAAS,CAACiL,IAAI;IACzCjJ,qBAAqB,EAAEhC,SAAS,CAACiL,IAAI;IACrChJ,WAAW,EAAEjC,SAAS,CAACmL,MAAM;IAC7BjJ,iBAAiB,EAAElC,SAAS,CAACmL,MAAM;IACnC/I,mBAAmB,EAAEpC,SAAS,CAACmL,MAAM;IACrCxB,QAAQ,EAAE3J,SAAS,CAACqL,SAAS,CAAC,CAC5BrL,SAAS,CAACqB,IAAI,EACdrB,SAAS,CAACsL,MAAM,CACjB,CAAC;IACFjD,MAAM,EAAErI,SAAS,CAACqB,IAAI;IACtBS,qBAAqB,EAAE9B,SAAS,CAACuL,GAAG;IACpC1J,eAAe,EAAE7B,SAAS,CAACiL,IAAI;IAC/B7C,QAAQ,EAAEpI,SAAS,CAACqB;EAAI,GACrBL,sBAAsB,GAAA4B,MAAA,CAIpB4I,YAAY,GAAG;IACpBxJ,qBAAqB,EAAEgB,UAAU,CAAChB,qBAAqB;IACvDC,WAAW,EAAEe,UAAU,CAACf,WAAW;IACnCC,iBAAiB,EAAEc,UAAU,CAACd,iBAAiB;IAC/CC,yBAAyB,EAAEa,UAAU,CAACb,yBAAyB;IAC/DC,mBAAmB,EAAEY,UAAU,CAACZ,mBAAmB;IACnDC,kBAAkB,EAAEW,UAAU,CAACX,kBAAkB;IACjDR,eAAe,EAAEmB,UAAU,CAACnB;EAC9B,CAAC,EAAAe,MAAA;AA4VL;AAKA,IAAM6I,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIC,YAAiB,EAAK;EACpD,IAAI,OAAOA,YAAY,KAAK,QAAQ,EAAE;IACpC,OAAO,UAACC,IAAc;MAAA,OAAKjJ,gBAAgB,CAACiJ,IAAI,EAAED,YAAY,CAAC;IAAA;EACjE,CAAC,MAAM;IACL,OAAOhJ,gBAAgB,CAACgJ,YAAY,CAAC;EACvC;AACF,CAAC;AAED,eAAeD,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}